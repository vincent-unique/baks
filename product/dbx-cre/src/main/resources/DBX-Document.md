#dbx 开发文档
```
    应cctv云媒资项目升级过程的数据转移需要，规划构建由老数据转移为新系统结构定义下的规范数据。由于之前的数据迁移工具dataant存在
 转移方向单一、数据处理简单、类型匹配不合理、数据merge无法扩展等诸多局限；决心开发一款相对而言，移植处理逻辑更加规范、适用性更加
 广泛、配置扩展更加方便的统一的数据移植软件。

```

## 一、设计思路

```$xslt
    构建之初考虑，数据移植在应用迭代过程中的位置特殊，就大型软件而言，尤其是在面向的客户群体多元化的项目中，数据仓库的选型，产品
 升级带来的数据方案的更新是无法避免的。无论客户是喜欢MSSqlServer、Oracle，还是更新MySQL等开源数据库，对客户而言的都是对的，对软
 件提供商而言，应该综合到所有软件客户的需求，尽最大努力完成不同方案的融合并及时给出合理的产品方案。
    dbx软件在设计上考虑了MSSqlServer、Oracle、MySQL 多种数据方案，以两两可互逆的体系规划软件的多向通道；这些比之之前的一些数据
 迁移工具来言算是较为明显的优化与融合。
    另外，dbx的数据移植逻辑是建立在科学性的方法逻辑和数据规则上的，尤其是在数据类型校验、转化方面，参考了各DB提供商的数据类型定
 义，力求在软件基础上更具科学性和依据性，以期保证释出产品的质量。
    
```
```$xslt
   因为数据移植不可避免的存在跨库、跨数据平台的问题，在移植逻辑中必然要建立数据校验、数据适配、数据映射、数据修复的诸多核心模块，
 在下文中就这些主要概=概念和相关重要逻辑给出尽可能详细的描述。
```
### 设计要点
+ 跨库移植
+ 数据转移原则
+ 数据Merge
+ 类型转换

#### 1、跨库移植
```$xslt
    产品迭代在一定阶段，不仅需要会在产品设计上形成巨大改变；更直接的反映在数据上。在迭代过程中，数据方案的整体更改，在我们的应用
 中，经常性的表现出来；为了适用新的产品，建立新的数据结构是常见的方案。然而对于绝大多数用户而言，数据在产品及结构迭代过程中是不允
 许丢失的；所以数据移植的常规表现是将老数据从之前的库中依据一定的规则植入新产品的库中。
    两个原则。新老数据的融合需要遵守的两个基本规则是“不要污染，不要损失”。
    不要污染。污染是指，由于新物质的进入，导致原本良好的环境被破坏。数据移植处理首要的规则就是严格禁止导致这现象产生的操作存在。
 比如，在数据移植处理的逻辑中，要避免程序自我的修改新的数据结构。
    不要损失，在可工作的现有数据之上植入新数据，需保证新数据入库过程不会损失现有数据，可对
```

#### 2、数据转移原则

#### 3、数据Merge

#### 4、类型转换


## 二、开发方案

## 三、运行时环境
```$xslt
    该工具的释出文件以可执行jar文件发布（内嵌Jetty Web容器），只需要依赖JRE即可执行（修正版本后，可在Java7及以上版本的java环境执行）；
    考虑软件的轻巧且面向工程师用户，并未将JRE 运行时环境一起封装。
```